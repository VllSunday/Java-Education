---
создал заметку: 2024-08-11
---
Конечно, вот улучшенный и более аккуратный конспект для Obsidian:

---

### Основные команды SQL

- **CREATE TABLE table_name**  
  Создает новую таблицу с указанным именем.

- **ALTER TABLE table_name**  
  Изменяет структуру существующей таблицы.

  После написания `ALTER TABLE table_name`, можно выполнить следующие операции:

  - **ADD COLUMN column_name data_type**  
    Добавляет новый столбец в таблицу.

  - **RENAME TO new_table_name**  
    Переименовывает таблицу.

  - **RENAME old_column_name TO new_column_name**  
    Переименовывает существующий столбец.

  - **ALTER COLUMN column_name SET DATA TYPE data_type**  
    Изменяет тип данных существующего столбца.

- **DROP TABLE table_name**  
  Удаляет таблицу полностью. Записи о выполнении команды сохраняются в логах.

- **TRUNCATE TABLE table_name**  
  Удаляет все данные из таблицы.  
  ⚠️ **Важно**:
  - Команда `TRUNCATE` не оставляет записей в логах операций, в отличие от команды `DELETE`.
  - `TRUNCATE` не сработает, если таблица имеет связи с другими таблицами через внешние ключи.
  - После выполнения `TRUNCATE`, счетчики `SERIAL` (или аналогичные для `PRIMARY KEY`) не сбрасываются и продолжают отсчет с предыдущих значений.  
    Например, если вы удалили 3 строки, новый первичный ключ начнется с 4.
  
  Чтобы сбросить счетчики и начать отсчет с нуля, используйте команду:
  
  - **TRUNCATE TABLE table_name RESTART IDENTITY**
  -      По умолчанию стоить значение: **TRUNCATE TABLE table_name CONTINUE IDENTITY**

    `RESTART IDENTITY` сбрасывает счетчики автогенерируемых значений, таких как `SERIAL`, чтобы они начинались с 1 после очистки таблицы.

- **DROP COLUMN column_name**  
  Удаляет указанный столбец из таблицы.

---
