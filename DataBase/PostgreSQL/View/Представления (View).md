---
создал заметку: 2024-08-12
---
### Что такое View

View - сохранённый запрос в виде объекта БД (виртуальная таблица)

K View можно делать обычный SELECT

Views можно соединять и т.д.

### И зачем View? 
Производительность такая же, как и у обычной таблицы
(если сравниваем сопоставимые вещи)

Позволяет делать кэширование с помощью материализации

Позволяет сокращать сложные запросы

Позволяет подменить реальную таблицу

Позволяет создавать виртуальные таблицы соединяющие несколько таблиц

Позволяет скрыть логику агрегации данных при работе через ORM

Позволяет скрыть информацию (столбцы) от групп пользователей

Позволяет скрыть информацию на уровне строк от групп пользователей

(строки отсекаются самим запросом)

### Виды: View


### Временные 
### Рекурсивные 
### Обновляемые 
### Материализуемые



#### Синтаксис View 

```SQL 
CREATE VIEW view_name AS 
SECECT select_statment
```

### Изменения представлений

Можно только добавить новые столбцы
  - нельзя удалить существующие
  - нельзя поменять имена столбцов
  - нельзя поменять даже порядок следования столбцов

Речь идет о том если мы хотим изменить View что именно "селектить из таблицы"

Еще один синтаксис для создания представления: 

```SQL 
CREATE OR REPLACE VIEW view_name AS 
SELECT select_statement
```

Можно переименовывать представления
```SQL
ALTER VIEW old_view_name RENAME TO new_view_name
```

Можно переименовывать представления
```SQL
ALTER VIEW old_view_name RENAME TO new_view_name
```

Можно удалять представления
```SQL
DROP VIEW [IF EXISTS] view_name
```


### Модификация данных через представления: 

Только одна таблица в FROM

Нет DISTINCT, GROUP BY, HAVING, UNION, INTERSECT, EXCEPT, LIMIT 

Нет оконных функций, MIN, MAX, SUM, COUNT, AVG

WHERE не под запретом