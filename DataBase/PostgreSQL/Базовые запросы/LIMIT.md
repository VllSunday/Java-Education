---
создал заметку: 2024-08-09
---
---

# Оператор `LIMIT` в PostgreSQL

Оператор `LIMIT` в PostgreSQL используется для ограничения количества строк, возвращаемых результатом запроса. Это полезно, когда нужно получить только определенное количество записей из большого набора данных.

## Основное использование

Синтаксис оператора `LIMIT` в PostgreSQL выглядит следующим образом:

```SQL
SELECT column1, column2, ...
FROM table_name
WHERE condition
ORDER BY column1, column2, ...
LIMIT number_of_rows;
```

### Пример: Получение первых 5 строк

Предположим, у нас есть таблица `employees`, и мы хотим получить информацию о первых 5 сотрудниках:

```SQL
SELECT *
FROM employees
LIMIT 5;
```

Этот запрос вернет первые 5 строк из таблицы `employees`.

## Использование `LIMIT` с `OFFSET`

Оператор `OFFSET` позволяет пропустить определенное количество строк перед началом возврата строк, указанных в `LIMIT`. Это полезно для реализации постраничной навигации.

### Синтаксис

```SQL
SELECT column1, column2, ...
FROM table_name
WHERE condition
ORDER BY column1, column2, ...
LIMIT number_of_rows OFFSET number_of_rows_to_skip;
```

### Пример: Пропуск первых 10 строк и возврат следующих 5

```SQL
SELECT *
FROM employees
ORDER BY employee_id ASC
LIMIT 5 OFFSET 10;
```

Этот запрос пропустит первые 10 строк и вернет следующие 5 строк из таблицы `employees`, отсортированных по `employee_id` по возрастанию.

## Использование `LIMIT` с `ORDER BY`

Часто `LIMIT` используется вместе с `ORDER BY` для получения ограниченного числа строк по определенному критерию сортировки. Это особенно полезно для выборки самых "верхних" или "нижних" записей на основе какого-либо критерия.

### Пример: Получение 3-х самых высокооплачиваемых сотрудников

```SQL
SELECT employee_name, salary
FROM employees
ORDER BY salary DESC
LIMIT 3;
```

Этот запрос вернет имена и зарплаты 3-х сотрудников с наивысшей зарплатой.

## Ограничения и особенности

- В PostgreSQL `LIMIT` используется вместе с `OFFSET` для реализации постраничной навигации. Важно помнить, что в некоторых случаях использование `OFFSET` может замедлить запрос на больших наборах данных.
- Если `OFFSET` не указан, то запрос начнет возврат строк с первой строки.
- Операторы `LIMIT` и `OFFSET` могут быть комбинированы с `ORDER BY` для точной настройки результатов запроса.

## Заключение

Оператор `LIMIT` в PostgreSQL — это мощный инструмент для управления объемом данных, возвращаемых SQL-запросом. Он позволяет контролировать количество строк в результатах запроса и может использоваться в различных сценариях, таких как постраничная навигация и выборка верхних или нижних записей по определенным критериям.

---

