---
создал заметку: 2024-08-28
---
# Balanced - Tree

**Основные моменты:**

1. **Создание и Типы Индексов:**
   - Индекс типа B-tree создается по умолчанию в PostgreSQL. Это происходит автоматически при объявлении колонки как PRIMARY KEY, добавлении ограничения UNIQUE или при выполнении команды `CREATE INDEX`.
   - Имя индекса формируется в соответствии с заданным именем объекта в базе данных и указывается в команде создания индекса.
``` sql
CREATE INDEX index_name ON table_name (column_name))
```

2. **Параметры Индекса:**
   - Если не указать явно тип индекса, будет создан индекс B-tree. Это типичный выбор по умолчанию, потому что B-tree работает лучше всего для большинства случаев.
   - Индекс B-tree поддерживает операции сравнения, такие как меньше (`<`), больше (`>`), меньше или равно (`<=`), больше или равно (`>=`), и равно (`=`). `BETWEEN` и `IN` 

3. **Ограничения и Поддержка Операторов:**
   - Индексы имеют ограничения, связанные с поддержкой различных операций. Например, если запрос использует операторы, не поддерживаемые типом индекса, то индексное сканирование не будет выполнено.
   - Индекс B-tree поддерживает операции LIKE, что означает, что если запрос содержит оператор LIKE по колонке, на которую построен индекс B-tree, он может быть использован в индексном сканировании.

4. **Планировщик Запросов:**
   - Планировщик запросов в PostgreSQL может отказаться от использования индексного сканирования, если, например, селективность запроса высока.
   - Индексы также поддерживают проверки на NULL (`IS NULL`) и не NULL (`IS NOT NULL`), что позволяет планировщику запросов использовать индекс при фильтрации по этим условиям.

**Заключение:**
Индексы типа B-tree являются стандартным и наиболее часто используемым типом индекса в PostgreSQL, благодаря своей универсальности и способности поддерживать широкий спектр операций сравнения и запросов. Тем не менее, важно понимать ограничения индексов и то, как планировщик запросов может выбирать, когда использовать или не использовать индексное сканирование в зависимости от ситуации.