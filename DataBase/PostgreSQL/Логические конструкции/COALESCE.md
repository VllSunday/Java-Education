---
создал заметку: 2024-08-16
---
Конечно! `COALESCE` — это функция в SQL, которая используется для обработки значений `NULL`. Она возвращает первое ненулевое значение из списка аргументов. Это полезно, когда вы хотите заменить `NULL` значением по умолчанию или использовать альтернативные значения.

Вот основные моменты, которые нужно знать о `COALESCE`:

## 1. Основное назначение

Функция `COALESCE` используется для замены `NULL` значений другими значениями. Это позволяет избежать проблем с `NULL` в запросах и работать с более предсказуемыми результатами.

## 2. Синтаксис

```sql
COALESCE(значение1, значение2, ..., значениеN)
```

- **значение1, значение2, ..., значениеN** — список значений. Функция проверяет их последовательно и возвращает первое ненулевое значение. Если все значения `NULL`, функция вернет `NULL`.

## 3. Примеры использования

### Пример 1: Простое использование

```sql
SELECT имя,
       COALESCE(телефон, 'Не указан') AS телефон
FROM пользователи;
```

В этом примере, если значение в столбце `телефон` равно `NULL`, функция `COALESCE` заменит его на строку `'Не указан'`.

### Пример 2: Работа с несколькими значениями

```sql
SELECT имя,
       COALESCE(домашний_телефон, рабочий_телефон, мобильный_телефон, 'Нет телефона') AS контактный_телефон
FROM сотрудники;
```

Здесь `COALESCE` возвращает первое ненулевое значение из трех столбцов телефонных номеров. Если все три значения равны `NULL`, возвращается `'Нет телефона'`.

### Пример 3: Использование в вычислениях

```sql
SELECT имя,
       COALESCE(бонус, 0) + зарплата AS общая_зарплата
FROM сотрудники;
```

В этом запросе, если значение `бонус` равно `NULL`, `COALESCE` заменяет его на `0`, и вычисляется `общая_зарплата`.

## 4. Особенности и рекомендации

- **Аргументы**: Функция может принимать любое количество аргументов. Она возвращает первый ненулевой аргумент.
- **Тип данных**: Все аргументы должны быть совместимы по типу данных, чтобы избежать ошибок при выполнении запроса.
- **Производительность**: Использование `COALESCE` может улучшить читаемость запросов и упростить работу с `NULL`, но не оказывает значительного влияния на производительность.
---
