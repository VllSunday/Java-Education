---
создал заметку: 2024-08-08
---
Многие ко многим почти всегда реализуется через дополнительную таблицу.

Например, у нас есть таблица: posts 
И есть таблица: tags

В этом примере, множество постов могут иметь множество тегов. По этому мы и можем сказать что это связь многие ко многим

Также для реализации таких отношений нужно создать 3 табличку. У которой будет свой PRIMARY KEY 
Но так же и два других столбца, которые будут внешними ключами для двух первых колонок. И получается будет таблица где сопоставленны посты и теги. Важно то что в 3-й таблицы, значения в колонках не являются уникальными. То есть post_id может повториться несколько раз. 
НО ВОТ ==ПАРЫ ЭТИХ PIRMARY KEY== будут уникальными.

Вот как это будет выглядеть: 
![[Связи между таблицами.png]]


Как происходит выборка данных? 
Например мы хотим сделать выборку всех постов и определенным тегом. 

1) Мы берем tag_id 
2) Заходим в 3 таблицу, где находим все строки которые равны значению тега которого мы ищем
3) Получаем post_id
4) Переходим к таблице post 
5) Находим строки с этими id 