---
создал заметку: 2024-09-09
---
---
### Порты и приложения:
1. **Порт** — это числовой идентификатор, который операционная система использует для управления сетевыми соединениями. Каждый порт связан с конкретным процессом или приложением, которое принимает или отправляет данные по сети. Порты служат для того, чтобы операционная система знала, какому приложению передать сетевой трафик.
   
2. **Приложения** не всегда автоматически резервируют порт. Когда ты запускаешь приложение, порт **резервируется** только тогда, когда это приложение активно открывает сетевое соединение, например, сервер запускает сокет для ожидания входящих подключений, или клиент пытается подключиться к удалённому серверу.

3. **Сокет** создаётся **только при явном создании сетевого соединения**. То есть при запуске обычного приложения (например, текстового редактора) порты не резервируются автоматически — это происходит только для сетевых приложений, которые используют Интернет или локальную сеть для обмена данными.

---

### Процесс создания сокета:
Когда сетевое приложение запускается, создаётся сокет для обмена данными через сеть. Этот процесс может быть:
- **Серверным**: Приложение открывает порт и начинает "слушать" входящие подключения.
- **Клиентским**: Приложение инициирует соединение с удалённым сервером через порт.

#### Пример на стороне сервера:
1. Приложение вызывает API для создания **серверного сокета** и привязывает его к конкретному порту.
2. Теперь серверный сокет "слушает" соединения на этом порту. Если кто-то попытается подключиться, операционная система направляет запрос через этот порт.

#### Пример на стороне клиента:
1. Когда клиентское приложение хочет подключиться к серверу, оно создаёт **клиентский сокет** и указывает адрес и порт сервера.
2. Операционная система выделяет **свободный порт** на клиентской машине для отправки данных (например, 51234), и сокет устанавливает соединение с сервером по порту, который открыт на сервере.

---

### Порты и сокеты на практике:
- **Сервер** резервирует **определённый порт** (например, 8080) и "слушает" входящие соединения с помощью сокета.
- **Клиент** создаёт **сокет** и соединяется с сервером, указывая IP-адрес и порт сервера (например, 8080).
- Операционная система автоматически выделяет **случайный порт** для клиентского сокета (например, 49152) для отправки/получения данных.

### Важные моменты:
- **Один порт** может быть использован только **одним сокетом** на одном устройстве в один момент времени.
- Приложение может использовать несколько сокетов (для разных соединений), но для каждого требуется **уникальный порт**.

---

### Ответ на твой вопрос:
- **Порт автоматически не резервируется при запуске приложения.** Порт выделяется или "резервируется" только тогда, когда приложение явно создаёт сокет для работы с сетью (будь то серверное или клиентское приложение).
  
- **Сокет создаётся не автоматически при запуске приложения**, а только если это приложение использует сетевые соединения.

