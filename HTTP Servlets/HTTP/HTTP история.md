---
создал заметку: 2024-09-12
---
### HTTP/0.9 
Первый HTTP (HyperText Transfer Protocol) стандарт,
выпущенный в 1991 году
Это был самый простой протокол с одним единственным
HTTP-методом GET, который возвращает HTML страницу

Request
GET
/index. html

### HTTP/1.0 - 
Был выпущен в 1996 году
Основные изменения:
Работа с разными форматами данных: видео, изображения, текст и т.д.
Новые HTTP-методы: POST и HEAD
Добавились заголовки в requests & responses (header)
Коды состояний (2хх, 5хх, …)

Один из главных недостатков HTTP/1.0 - это невозможность
отправления более одного запроса во время одного ТСР соединения
Плюс ко всему протокол НТТР не хранит состояний, и всю
информацию каждый раз передает в заголовке (header)

### HTTP/1.1 
Был выпущен в 1999 году
Основные изменения:
Новые HTTP-методы: PUT, PATCH, DELETE, OPTIONS
- Клиентские cookie (заголовки "Cookie" & "SetCookie") - хранить часть информации на стороне клиента
- Кэширование (заголовок "Cache-Control") - можно за кешировать какую то информацию на стороне сервера
- Постоянные соединения (для закрытия использовался в запросе заголовок
  "Connection: close") - пока не передадут заголовок Connection: close, можно было можно было обмениваться сообщениями
- Потоковая передача данных (для определения конца ответа сервера
  использовался заголовок "Content-Length")

К сожалению, HTTP/1.1 не решил полностью проблему
предыдущей версии:
1. Потоковая передача данных не всегда была возможна (невозможно
передать в ответе заголовок Content-Length, если сервер не может
оценить объем данных)
2. Проблема блокировки всей очереди запросов, если медленный или
большой запрос блокировал все последующие


### HTТP/2 
Был выпущен в 2015 году
Главные отличия от HTТP/1.1:
Бинарный вместо текстового
Мультиплексирование (несколько асинхронных запросов через одно
ТСР-соединение)
Server Push (несколько ответов на один запрос)
Сжатие заголовков методом HPLC
Приоритезация запросов
Безопасность

### 1. Бинарный протокол
Бинарные сообщения быстрее разбираются автоматически, представляя
из себя фреймы (Frames) и потоки (Streams).
Но в отличие от текстовых, не понятны для чтения человеком
Переходом на бинарный формат,
HTTP/2 пытается решить проблему
выросшей задержки (latency)
![[Pasted image 20240912140938.png]]
Latency - это разница между началом запроса и ответом на него от сервера

Теперь все HTTP сообщения делятся на FRAMES & Streams 
Если это разделения было наменальным, и заголовки от тела отделялись просто пустой строкой. Но теперь все изменилось: 
![[Pasted image 20240912141307.png]]

Frames & Streams
Теперь все HTTP-сообщения делится на фреймы (HEADERS, DATA,
RST_STREAM, PUSH_PROMISE, PRIORITY, etc)

Теперь например, все заголовки было добавлены в HEADERS Frame 

А тело в DATE Frame. То есть у нас есть реальное физическое разделение.(все они представленные в бинарном виде) 

И чтобы понимать какие фреймы относятся к одному HTTP сообщению, у нас есть потоки.

### Frames & Streams
Коллекция таких фреймов - двунаправленный поток (Stream).
Следовательно, каждый фрейм содержит идентификатор (id) потока
Каждый клиентский запрос использует нечётные id, а ответ от
сервера - чётные
![[Pasted image 20240912141831.png]]




