---
создал заметку: 2024-07-15
---
[[Themes for collections|equals]]
![[equalsRools.png]]
```java
@Override
public boolean equals(Object o) {
   if (this == o) return true;
   if (o == null || getClass() != o.getClass()) return false;
   Man man = (Man) o;
   return dnaCode == man.dnaCode;
}
```

Мы проводим все первоначальные проверки, о которых сказали выше. Если в итоге оказалось, что:

- мы сравниваем два объекта одного класса
- это не один и тот же объект
- мы сравниваем наш объект не c `null`

...тогда мы переходим к сравнению значимых характеристик. В нашем случае — поля `dnaCode` двух объектов. Переопределяя метод `equals()`, обязательно соблюдай эти требования:

1. Рефлексивность.
    
    Любой объект должен быть `equals()` самому себе.  
    Мы уже учли это требование. В нашем методе указано:
    
    `if (this == o) return true;`
    
2. Симметричность.
    
    Если `a.equals(b) == true`, то и `b.equals(a)` должно возвращать `true`.  
    Этому требованию наш метод тоже соответствует.
    
3. Транзитивность.
    
    Если два объекта равны какому-то третьему объекту, значит, они должны быть равны друг и другу.  
    Если `a.equals(b) == true` и `a.equals(c) == true`, значит проверка `b.equals(c)` тоже должна возвращать true.
    
4. Постоянность.
    
    Результаты работы `equals()` должны меняться только при изменении входящих в него полей. Если данные двух объектов не менялись, результаты проверки на `equals()` должны быть всегда одинаковыми.
    
5. Неравенство с `null`.
    
    Для любого объекта проверка `a.equals(null)` должна возвращать false  
    Это не просто набор каких-то «полезных рекомендаций», а именно жесткий [контракт методов](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html), прописанный в документации Oracle
