---
создал заметку: 2024-07-27
---
[[Steam API|Map]]

При вызове метода map() передаваемая ему функция применяется к каждому элементу потока данных, в результате чего образуется
новый поток данных с полученными результатами
### `Map` 
В переводе с английского значит отображение. Понятие отображение пришло к нам из теории множеств.

Отображение в теории множеств это когда мы имеем 2 множества.
У нас есть оригинальное множество, и есть какое то преобразованное множество.

Мы берем каждый элемент из оригинального множества, 
и по какому то правилу мы сопоставляем  элемент из нового множества - эта операция называется отображением

В методе map() мы хотим отобразить каждый элемент из массива(листа) в какой то новый элемент в новом массиве(листе)

И это отображение мы задаем с помощью лямбда выражения

Как мы это пишем? 
```java
Arrays.stream(array).map(a -> a * 2)
list.stream().map(a -> a * 2)
```
У нас есть какая то переменная, и эту переменную, то есть каждую переменную из массива(списка) мы сопоставляем этому же элементу умноженному на 2

ЕЩЕ РАЗ КАК РАБОТАЕТ МЕТОД `MAP` 
Метод map() на вход берет какой то набор элементов, и начинает по нему итерироваться. 
И при каждой итерации этот элемент это какой то элемент из нашего набора данных. 

Например если у нас есть:
// [1]  [2]  [3]  [4]  [5]

То map будет итерироваться по этому массиву(списку)

И в каждом шаге итерации каждый элемент будет помещаться в лямбда выражение, и то что мы возвращаем из лямбда выражения
```java
a * 2
```
Это и будет новый значением этого элемента.

То есть у нас есть массив например: 

1 2 3 4 
При каждом шаге один элемент будет помещаться в лямбда выражение и будет умножен на два.
То есть на выходе мы получим: 
2 4 6 8


То есть используя этот код, мы взяли наш массив(лист) и каждый элемент мы отобразили по правилу которое описано в лямбда выражении.

Ну и в конце осталось сослать наши переменные на тот результат который будет возвращен в результате выполнения метода map();


```java
Для массива

array = Arrays.stream(array).map(a -> a * 2).toArray();

Для списка

list = list.stream().map(a -> a * 2).collect(Collectors.toList());
```

Но сослать мы не прямую не можем, так так `MAP()` возвращает на массив элементов а поток (stream)
Для того что бы наш поток преобразовать в массив, мы используем метод `toArray` для массива. 
И для листа `collect(Collectors.toList()`