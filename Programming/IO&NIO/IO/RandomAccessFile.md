---
создал заметку: 2024-08-17
---
---
# RandomAccessFile в Java

## Описание
**RandomAccessFile** позволяет читать информацию из любого места файла и записывать информацию в любое место файла.

Это можно сравнить с ворд-документом, где у нас есть курсор, который мы можем перемещать, чтобы вставлять или удалять текст. В `RandomAccessFile` курсор работает аналогично, позволяя нам работать с любым участком файла.

## Конструкторы

### Основной синтаксис:
```java
RandomAccessFile file = new RandomAccessFile("file.txt", "rw");


- **file.txt** — путь к файлу.
- **rw** — режим работы:
  - `"r"` — только чтение.
  - `"rw"` — чтение и запись.
  - `"rws"` — чтение и запись с синхронизацией содержимого файла и его метаданных.
  - `"rwd"` — чтение и запись с синхронизацией только содержимого файла.

## Работа с указателем (pointer)

### Методы работы с указателем:

- **`long getFilePointer()`** — возвращает текущую позицию указателя в файле.
- **`void seek(long pos)`** — перемещает указатель на заданную позицию в файле.
- **`long length()`** — возвращает длину файла в байтах.

### Пример использования:
```java
RandomAccessFile file = new RandomAccessFile("data.dat", "rw");
file.writeInt(12345); // Записать число
file.seek(0);         // Вернуться в начало файла
int result = file.readInt(); // Прочитать число
System.out.println("Прочитанное число: " + result);
file.close();
```

## Чтение и запись данных

### Чтение:
- **`int read()`** — читает один байт.
- **`int read(byte[] b)`** — читает массив байт.
- **`int readInt()`** — читает целое число (4 байта).
- **`long readLong()`** — читает длинное целое число (8 байт).
- **`float readFloat()`** — читает число с плавающей точкой (4 байта).
- **`double readDouble()`** — читает число с плавающей точкой двойной точности (8 байт).
- **`String readUTF()`** — читает строку в формате UTF-8.

### Запись:
- **`void write(int b)`** — записывает один байт.
- **`void write(byte[] b)`** — записывает массив байт.
- **`void writeInt(int v)`** — записывает целое число (4 байта).
- **`void writeLong(long v)`** — записывает длинное целое число (8 байт).
- **`void writeFloat(float v)`** — записывает число с плавающей точкой (4 байта).
- **`void writeDouble(double v)`** — записывает число с плавающей точкой двойной точности (8 байт).
- **`void writeUTF(String s)`** — записывает строку в формате UTF-8.

## Дополнительные возможности

- **Текущая длина файла:** `file.length()`
- **Усечение файла:** `file.setLength(long newLength)` позволяет изменить размер файла.
- **Закрытие файла:** `file.close()` освобождает ресурсы, занятые файлом.

## Преимущества использования RandomAccessFile

- **Произвольный доступ:** Быстрое перемещение по файлу для чтения или записи данных.
- **Редактирование больших файлов:** Изменение частей файла без необходимости перезаписывать его целиком.
- **Хранение структурированных данных:** Удобен для работы с бинарными форматами данных.

---

