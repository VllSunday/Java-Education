---
создал заметку: 2024-08-18
---
---
Все методы, и зачем каждый используется можно найти у Тригулова в курсе. Особенно в конце, он просто рассказывает что, какой, и тд методы делают
# Конспект по методам Channels & Buffers (Java NIO)

## 1. `FileChannel channel = file.getChannel();`

### Описание:
- `FileChannel` — это канал для чтения, записи, маппинга и манипулирования файлами. 
- Канал можно получить из `FileInputStream`, `FileOutputStream` или `RandomAccessFile`.
- Этот метод создает `FileChannel`, который связан с конкретным файлом.

### Пример:
```java
FileInputStream file = new FileInputStream("example.txt");
FileChannel channel = file.getChannel();
```

## 2. `ByteBuffer buffer = ByteBuffer.allocate(100);`

### Описание:
- `ByteBuffer` — это контейнер для хранения байтовых данных.
- `allocate` создает буфер с фиксированным размером (в данном случае, 100 байт).
- Буфер поддерживает внутренние указатели для чтения и записи данных.

### Пример:
```java
ByteBuffer buffer = ByteBuffer.allocate(100);
```

## 3. `channel.read(buffer)`

### Описание:
- Читает данные из `FileChannel` и записывает их в `ByteBuffer`.
- Возвращает количество прочитанных байтов или `-1`, если достигнут конец файла.

### Пример:
```java
int bytesRead = channel.read(buffer);
```

## 4. `buffer.flip()`

### Описание:
- Переводит буфер из режима записи в режим чтения.
- Устанавливает `position` в 0 и `limit` на текущую позицию `position`.
- Подготовка буфера к чтению данных, которые были записаны.

### Пример:
```java
buffer.flip();
```

## 5. `buffer.hasRemaining()`

### Описание:
- Возвращает `true`, если в буфере остались элементы для чтения.
- Полезно для проверки, нужно ли продолжать чтение.

### Пример:
```java
while (buffer.hasRemaining()) {
    byte b = buffer.get();
    // обрабатываем данные
}
```

## 6. `buffer.get()`

### Описание:
- Извлекает байт из буфера в текущей позиции и перемещает указатель `position`.
- Используется для поочередного чтения байтов из буфера.

### Пример:
```java
byte b = buffer.get();
```

## 7. `buffer.clear()`

### Описание:
- Очищает буфер, подготавливая его для записи новых данных.
- `position` устанавливается в 0, `limit` в `capacity`.
- Данные в буфере не стираются, но будут перезаписаны.

### Пример:
```java
buffer.clear();
```

## 8. `buffer.put(…)`

### Описание:
- Записывает данные в буфер, начиная с текущей позиции `position`.
- `position` перемещается на количество записанных байтов.

### Пример:
```java
buffer.put((byte) 123);
```

## 9. `channel.write(buffer)`

### Описание:
- Записывает данные из буфера в канал (например, в файл).
- Данные записываются начиная с текущей позиции `position` до `limit`.

### Пример:
```java
buffer.flip(); // перед записью
int bytesWritten = channel.write(buffer);
```

## 10. `buffer.rewind()`

### Описание:
- Перемещает `position` на 0, но не изменяет `limit`.
- Используется для повторного чтения данных из буфера.

### Пример:
```java
buffer.rewind();
```

## 11. `buffer.compact()`

### Описание:
- Переносит непрочитанные данные в начало буфера, подготавливая его для записи новых данных.
- Устанавливает `position` сразу после последнего непрочитанного байта, `limit` устанавливается в `capacity`.

### Пример:
```java
buffer.compact();
```

---
